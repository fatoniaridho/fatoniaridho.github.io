<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Windows Error</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Tahoma", "MS Sans Serif", sans-serif;
        background: #008080;
        overflow: hidden;
        width: 100vw;
        height: 100vh;
        position: relative;
      }

      .error-window {
        width: 500px;
        background: #ece9d8;
        border: 2px solid;
        border-color: #0831d9 #0831d9 #001d7c #001d7c;
        box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.5);
        position: absolute;
        transition: all 0.3s ease;
      }

      @keyframes shake {
        0%,
        100% {
          transform: translateX(0);
        }
        10%,
        30%,
        50%,
        70%,
        90% {
          transform: translateX(-10px);
        }
        20%,
        40%,
        60%,
        80% {
          transform: translateX(10px);
        }
      }

      .shake-animation {
        animation: shake 0.3s;
      }

      .title-bar {
        background: linear-gradient(to right, #0058e6, #4a9eff);
        padding: 4px 6px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        cursor: default;
      }

      .title-text {
        color: white;
        font-size: 12px;
        font-weight: bold;
        text-shadow: 1px 1px 1px rgba(0, 0, 0, 0.5);
        display: flex;
        align-items: center;
        gap: 4px;
      }

      .title-icon {
        width: 16px;
        height: 16px;
        background: white;
        border: 1px solid #000;
        display: inline-block;
      }

      .close-btn {
        width: 18px;
        height: 18px;
        background: #c0c0c0;
        border: 1px solid;
        border-color: #ffffff #000000 #000000 #ffffff;
        font-size: 11px;
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #000;
      }

      .close-btn:hover {
        background: #d4d0c8;
      }

      .close-btn:active {
        border-color: #000000 #ffffff #ffffff #000000;
      }

      .error-content {
        padding: 20px;
        display: flex;
        gap: 20px;
        align-items: center;
      }

      .warning-icon {
        width: 50px;
        height: 50px;
        flex-shrink: 0;
        position: relative;
      }

      .warning-triangle {
        width: 0;
        height: 0;
        border-left: 25px solid transparent;
        border-right: 25px solid transparent;
        border-bottom: 43px solid #ffd700;
        position: relative;
        filter: drop-shadow(2px 2px 2px rgba(0, 0, 0, 0.3));
      }

      .warning-triangle::after {
        content: "!";
        position: absolute;
        top: 8px;
        left: 50%;
        transform: translateX(-50%);
        font-size: 32px;
        font-weight: bold;
        color: #000;
      }

      .error-message {
        flex: 1;
        font-size: 13px;
        color: #000;
        line-height: 1.4;
      }

      .button-area {
        padding: 0 20px 20px 20px;
        display: flex;
        justify-content: center;
      }

      .ok-button {
        background: #c0c0c0;
        border: 2px solid;
        border-color: #ffffff #000000 #000000 #ffffff;
        padding: 6px 30px;
        font-size: 12px;
        font-family: "Tahoma", sans-serif;
        cursor: pointer;
        min-width: 80px;
      }

      .ok-button:hover {
        background: #d4d0c8;
      }

      .ok-button:active {
        border-color: #000000 #ffffff #ffffff #000000;
        padding: 7px 29px 5px 31px;
      }

      .ok-button:focus {
        outline: 1px dotted #000;
        outline-offset: -4px;
      }

      @media (max-width: 768px) {
        .error-window {
          width: 90%;
          max-width: 400px;
        }
      }
    </style>
  </head>
  <body>
    <div class="error-window" id="errorWindow">
      <div class="title-bar">
        <div class="title-text">
          <span class="title-icon"></span>
          Windows error
        </div>
        <div class="close-btn" onclick="handleClick()">âœ•</div>
      </div>

      <div class="error-content">
        <div class="warning-icon">
          <div class="warning-triangle"></div>
        </div>
        <div class="error-message">Click 'OK' to continue</div>
      </div>

      <div class="button-area">
        <button class="ok-button" onclick="handleClick()">OK</button>
      </div>
    </div>

    <script>
      let errorCount = 0;
      let chaosMode = false;
      let allDialogs = [];
      let moveIntervals = [];
      const errorWindow = document.getElementById("errorWindow");

      // Initialize position
      function initPosition() {
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        const dialogWidth = errorWindow.offsetWidth;
        const dialogHeight = errorWindow.offsetHeight;

        const centerX = (windowWidth - dialogWidth) / 2;
        const centerY = (windowHeight - dialogHeight) / 2;

        errorWindow.style.left = centerX + "px";
        errorWindow.style.top = centerY + "px";
      }

      // Random position generator for any dialog
      function moveDialogToRandomPosition(dialog) {
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        const dialogWidth = dialog.offsetWidth;
        const dialogHeight = dialog.offsetHeight;

        // Random position with padding
        const padding = 20;
        const maxX = Math.max(padding, windowWidth - dialogWidth - padding);
        const maxY = Math.max(padding, windowHeight - dialogHeight - padding);

        const randomX = Math.max(padding, Math.random() * maxX);
        const randomY = Math.max(padding, Math.random() * maxY);

        dialog.style.left = randomX + "px";
        dialog.style.top = randomY + "px";
      }

      // Move main dialog
      function moveToRandomPosition() {
        moveDialogToRandomPosition(errorWindow);
      }

      // Handle click
      function handleClick() {
        errorCount++;

        // Shake effect
        errorWindow.classList.add("shake-animation");
        setTimeout(() => {
          errorWindow.classList.remove("shake-animation");
        }, 300);

        // Move to random position
        setTimeout(() => {
          moveToRandomPosition();
        }, 100);

        // CHAOS MODE at count 5!
        if (errorCount === 5 && !chaosMode) {
          activateChaosMode();
        }
      }

      // ACTIVATE TOTAL CHAOS!
      function activateChaosMode() {
        chaosMode = true;

        // Spawn 15 dialogs immediately!
        for (let i = 0; i < 15; i++) {
          setTimeout(() => {
            spawnMovingDialog();
          }, i * 100);
        }

        // Keep spawning more dialogs continuously
        setInterval(() => {
          if (chaosMode && allDialogs.length < 30) {
            spawnMovingDialog();
          }
        }, 2000);

        // Make ALL dialogs move continuously
        setInterval(() => {
          allDialogs.forEach((dialog) => {
            if (document.body.contains(dialog)) {
              moveDialogToRandomPosition(dialog);
            }
          });
          moveToRandomPosition(); // Move main dialog too
        }, 800);
      }

      // Spawn a new moving dialog
      function spawnMovingDialog() {
        const newDialog = errorWindow.cloneNode(true);
        newDialog.removeAttribute("id");
        document.body.appendChild(newDialog);
        allDialogs.push(newDialog);

        // Random initial position
        moveDialogToRandomPosition(newDialog);

        // Add click handlers
        const okBtn = newDialog.querySelector(".ok-button");
        const closeBtn = newDialog.querySelector(".close-btn");

        const removeDialog = () => {
          const index = allDialogs.indexOf(newDialog);
          if (index > -1) {
            allDialogs.splice(index, 1);
          }
          newDialog.remove();

          // Spawn 2 more dialogs when one is closed! MUHAHAHA
          if (chaosMode && allDialogs.length < 25) {
            setTimeout(() => spawnMovingDialog(), 100);
            setTimeout(() => spawnMovingDialog(), 300);
          }
        };

        okBtn.onclick = removeDialog;
        closeBtn.onclick = removeDialog;

        // Shake animation
        newDialog.classList.add("shake-animation");
        setTimeout(() => {
          newDialog.classList.remove("shake-animation");
        }, 300);
      }

      // Initialize
      window.addEventListener("load", () => {
        initPosition();
      });

      // Responsive resize
      window.addEventListener("resize", () => {
        const windowWidth = window.innerWidth;
        const windowHeight = window.innerHeight;
        const dialogWidth = errorWindow.offsetWidth;
        const dialogHeight = errorWindow.offsetHeight;

        const currentLeft = parseInt(errorWindow.style.left) || 0;
        const currentTop = parseInt(errorWindow.style.top) || 0;

        if (currentLeft + dialogWidth > windowWidth) {
          errorWindow.style.left = windowWidth - dialogWidth - 20 + "px";
        }
        if (currentTop + dialogHeight > windowHeight) {
          errorWindow.style.top = windowHeight - dialogHeight - 20 + "px";
        }
      });

      // Easter egg: Press R to reset
      document.addEventListener("keydown", (e) => {
        if (e.key === "r" || e.key === "R") {
          location.reload();
        }
      });
    </script>
  </body>
</html>
